{"version":3,"sources":["webpack:///./src/pages/projects/nyt/excerpt.png","webpack:///./src/pages/projects/nyt/empty.png","webpack:///./src/pages/projects/nyt.js"],"names":["module","exports","weekCommentary","monthNames","NYTPage","spanify","string","s","keywords","Object","keys","key","replace","render","coversByDateKey","get","this","map","node","imageMatch","absolutePath","match","childImageSharp","fluid","days","code","jan1","Date","parse","d","index","dayCode","getMonth","toString","padStart","getDate","copiedDate","getTime","push","date","setDate","weeks","length","week","take","drop","firstDay","day","lastDay","location","props","title","bodyClass","className","alt","src","excerptImage","href","slice","dangerouslySetInnerHTML","__html","emptyImage","React","Component","pageQuery"],"mappings":"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","file":"component---src-pages-projects-nyt-js-909f8af9e5cebb9cd351.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/excerpt-38af9fdbda551c96e35e95ae7f591602.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAGwCAYAAACXeuhKAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAA8KADAAQAAAABAAABsAAAAABlj4MdAAAHKklEQVR4Ae3QgQAAAADDoPlT3+AEhVBhwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDDwBgZWCgABkJJ3YAAAAABJRU5ErkJggg==\"","import React from 'react'\nimport Img from \"gatsby-image\"\nimport { get } from 'lodash'\nimport { take, drop } from 'lodash'\nimport { graphql } from 'gatsby'\n// import { Link } from 'gatsby'\n\nimport excerptImage from './nyt/excerpt.png'\nimport emptyImage from './nyt/empty.png'\n\nimport \"./nyt/nyt.css\"\nimport Layout from '../../templates/Layout'\n\nconst weekCommentary = [\n  \"The first big story of the year was the airstrike killing Gen. Suleimani, and the resulting [Conflict with Iran].\",\n  \"[Conflict with Iran] dominated the headlines, with a lot of worrying about possible escalation to war. Iran downed a passenger jet.\",\n  \"As it de-escalated, [Conflict with Iran] disappeared from headlines. The biggest news of the week was Senate taking up Trump’s [Impeachment] case. New debates in [Democratic Primaries] race.\",\n  \"With most news covering [Impeachment] trial, the very first frontpage news about [Coronavirus] appeared: “Fear of Pandemic Rises” mentioned “at least 3 people dead”. First case in US, and lockdown of Wuhan.\",\n  \"Trump’s [Impeachment] news about witness blocking tussled for attention with [Coronavirus]. US restricted travel from China.\",\n  \"Iowa caucuses in [Democratic Primaries] and Trump’s acquittal in [Impeachment] trial dominated this week. [Coronavirus] news still appeared on every frontpage.\",\n  \"From this week on, no new bigger stories emerged. Sanders won New Hampshire in [Democratic Primaries], and the world focused on China battling the outbreak.\",\n  \"Debates, and Sanders won Nevada in [Democratic Primaries]. Most of [Coronavirus] coverage is about Diamond Princess. Concerns over the threat of pandemic raised.\",\n  \"More debates in [Democratic Primaries]. [Coronavirus] coverage increased: Italy in lockdown, Pence tasked with leading virus response, and big stock dive.\",\n  \"Biden won Super Tuesday in [Democratic Primaries], Warren and Bloomberg left the race. Slight increase in [Coronavirus] coverage.\",\n  \"This was the week when [Coronavirus] decisively took over the news. Italy's lockdown, stocks tumbling down even further, WHO naming the outbreak a pandemic.\",\n  \"[Coronavirus] coverage turns to US. Shelter in place orders, FED cutting interest rate to 0, and early discussions of a stimulus package.\",\n  \"The only week when every single article on the frontpage, all week long, was only about the [Coronavirus]. Senate approved $2B package, massive jobless claims, US became a country with most cases.\",\n  \"Another single-topic week, with almost all stories focusing on [Coronavirus]. Even more job losses, grim death estimates, New York overwhelmed with cases.\",\n  \"[Coronavirus] maintained complete hold over the frontpage. What would be major news during normal years, Sanders dropping out of [Democratic Primaries] and making Biden a presumptive nominee, only got a sliver of the page.\",\n  \"With [Coronavirus] cases still increasing rapidly, coverage turned to reopening, and who has the power to do so.\",\n  \"More [Coronavirus]-covered frontpages. Topics included unaccounted deaths, comparison between states and Trump pushing suspect cures.\",\n  \"[Coronavirus] coverage continues. Reopening and shrinking of economy was the most common thread.\",\n  \"[Coronavirus] has impacted every aspect of life so much that it is unavoidable in almost every story. Only Justice Dept. dropping Flynn’s case breaked through.\",\n]\n\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nclass NYTPage extends React.Component {\n  spanify(string) {\n    let s = string\n    const keywords = {\n      \"ir\": \"Conflict with Iran\",\n      \"im\": \"Impeachment\",\n      \"dp\": \"Democratic Primaries\",\n      \"cv\": \"Coronavirus\"\n    }\n    for (const key of Object.keys(keywords)) {\n      s = s.replace(`[${keywords[key]}]`, `<span class=\"${key}\">${keywords[key]}</span>`)\n    }\n    return s\n  }\n  render() {\n    const coversByDateKey = {}\n    const images = get(this, 'props.data.allFile.edges')\n    images.map(({ node }) => {\n      const imageMatch = node.absolutePath.match(/\\/projects\\/nyt\\/covers\\/([a-z0-9-]+).png/)\n      if (imageMatch) {\n        coversByDateKey[imageMatch[1]] = node.childImageSharp.fluid\n      }\n      return null\n    })\n\n    let days = [{ code: \"\" }, { code: \"\" }]\n    let jan1 = Date.parse('01 Jan 2020 04:00:00 GMT')\n    let d = new Date(jan1)\n    for (let index = 0; index < (5 + 7 * 18); index++) {\n      let month = (d.getMonth()+1).toString().padStart(2, '0')\n      let date = d.getDate().toString().padStart(2, '0')\n      let dayCode = `${month}-${date}`\n      let copiedDate = new Date(d.getTime())\n      days.push({\n        code: dayCode,\n        date: copiedDate\n      })\n      d.setDate(d.getDate() + 1)\n    }\n    let weeks = []\n    while (days.length > 0) {\n      let week = take(days, 7)\n      days = drop(days, 7)\n      let firstDay = null\n      for (const day of week) {\n        if (day.code !== \"\") {\n          firstDay = day.date\n          break\n        }\n      }\n      let lastDay = week[6].date\n      weeks.push({\n        days: week,\n        firstDay,\n        lastDay\n      })\n    }\n\n    return (\n      <Layout location={this.props.location} title=\"Pandemic Rises\" bodyClass=\"light\">\n        <div className=\"page-header\">\n            <div className=\"page-header-text\">\n            <h1>“Fear of Pandemic Rises”</h1>\n            <p className=\"page-lead\">So called was the very first article about the Coronavirus that appeared on New York Times frontpage on January 21st. This page takes a look at every frontpage published in 2020, tracking bigger stories, and illustrating how our news coverage became about one thing only.</p>\n          </div>\n          <div className=\"page-header-append\">\n            <img alt=\"Fear of Pandemic Rises\" src={excerptImage} />\n          </div>\n        </div>\n        \n        <h4>Colors used</h4>\n        <ul className=\"page-legend\">\n          <li className=\"dp\">\n            <div className=\"dot-icon\"></div>\n            Democratic Primaries\n          </li>\n          <li className=\"ir\">\n            <div className=\"dot-icon\"></div>\n            Conflict with Iran\n          </li>\n          <li className=\"im\">\n            <div className=\"dot-icon\"></div>\n            Trump’s Impeachment\n          </li>\n          <li className=\"cv\">\n            <div className=\"dot-icon\"></div>\n            Coronavirus\n          </li>\n        </ul>\n        <p className=\"desktop-notice\">\n          🖥 For the clearest look at the analysis, view this page on a desktop.\n        </p>\n        <p className=\"notes\">\n          <strong>Notes on methodology:</strong> annotated are clearly single-theme stories that consistently appear on  NYT frontpage for more than a week. Small stories at the bottom of the frontpage are not annotated. Coronavirus-related stories are not split into sub-topics (health, economics, politics) because New York Times themselves don’t split them (they usually split story groups with double lines, not so with Coronavirus-related stories) and articles themselves often touch on multiple sub-topics.\n        </p>\n        <div className=\"week-grid\">\n          { weeks.map((week, index) => \n            <div className={`week-row week-${index + 1}`} key={`week-${index + 1}`}>\n              { week.days.map((day, index) =>\n                <div className={`cover${ day.code === '' ? ' empty' : '' }`} key={day.code + index}>\n                  { day.code === '' && <div className=\"empty-day\"></div> }\n                  { day.code !== '' && \n                    <a href={`https://static01.nyt.com/images/2020/${day.code.slice(0,2)}/${day.code.slice(3)}/nytfrontpage/scan.pdf`}>\n                      <Img fluid={coversByDateKey[day.code]} />\n                    </a>\n                  }\n                </div>\n              )}\n              <div className=\"commentary\">\n                <h4>\n                  <strong>Week {index + 1}</strong> { monthNames[week.firstDay.getMonth()] } { week.firstDay.getDate() } - { monthNames[week.lastDay.getMonth()] } { week.lastDay.getDate() }\n                </h4>\n                <p dangerouslySetInnerHTML={{__html: this.spanify(weekCommentary[index])}} />\n              </div>\n            </div>\n          )}\n          <div className=\"week week-row week-future\">\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n            <div className=\"cover empty\"><img alt=\"\" src={emptyImage} /></div>\n\n            <div className=\"commentary\">\n              {/* <h4><strong>There is more to this</strong></h4> */}\n              <p>I will keep this page updated throughout 2020. To get notified about project updates, <a href=\"https://twitter.com/lekevicius\">follow me on Twitter here</a>.</p>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default NYTPage\n\nexport const pageQuery = graphql`\n  query {\n    allFile(filter: {\n      absolutePath: {\n        glob: \"**/projects/nyt/covers/*.png\"\n      }\n    }) {\n      edges {\n        node {\n          absolutePath\n          childImageSharp {\n            fluid(maxWidth: 240) {\n              base64\n              aspectRatio\n              src\n              srcSet\n              originalName\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}